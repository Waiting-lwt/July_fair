{"version":3,"sources":["uni-app:///main.js","webpack:///D:/七月/GitHub仓库/July_fair/pages/goods-release/goods-release.vue?fed9","webpack:///D:/七月/GitHub仓库/July_fair/pages/goods-release/goods-release.vue?99d7","webpack:///D:/七月/GitHub仓库/July_fair/pages/goods-release/goods-release.vue?8632","webpack:///D:/七月/GitHub仓库/July_fair/pages/goods-release/goods-release.vue?ab7d","uni-app:///pages/goods-release/goods-release.vue","webpack:///D:/七月/GitHub仓库/July_fair/pages/goods-release/goods-release.vue?c5cd","webpack:///D:/七月/GitHub仓库/July_fair/pages/goods-release/goods-release.vue?a1ec"],"names":["createPage","Page"],"mappings":"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","file":"pages/goods-release/goods-release.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/goods-release/goods-release.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods-release.vue?vue&type=template&id=3b6cb2e8&\"\nvar renderjs\nimport script from \"./goods-release.vue?vue&type=script&lang=js&\"\nexport * from \"./goods-release.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods-release.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods-release/goods-release.vue\"\nexport default component.exports","export * from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-release.vue?vue&type=template&id=3b6cb2e8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showEditPrice = (_vm.showEditPrice + 1) % 2\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-release.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-release.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"main\">\r\n\t\t\t<input type=\"text\" v-model=\"goodsName\" placeholder=\"请输入商品名称\" class=\"goods-name\" maxlength=\"40\"/>\r\n\t\t\t<textarea type=\"text\" v-model=\"goodsDescription\" placeholder=\"请输入商品详细描述\" class=\"goods-description\" \r\n\t\t\tmaxlength=\"600\" @input=\"descripInput()\"/>\r\n\t\t\t<view class=\"length-limit\">{{descripTatVal}}/{{maxTextArea}}</view>\r\n\t\t\r\n\t\t\t<scroll-view class=\"goods-pics\" scroll-x=\"true\" @scroll>\r\n\t\t\t\t<view class=\"pic-block\"v-for=\"(item,index) in goodsPics\" :key=\"index\">\r\n\t\t\t\t\t<img class=\"pic-item\" @tap=\"toShowPic()\" :src=\"item\">\r\n\t\t\t\t</view>\r\n\t\t\t    <view class=\"pic-block\" @tap=\"toAddPic()\">\r\n\t\t\t\t\t<text class=\"text-addpic\">+</text>\r\n\t\t\t    </view>\r\n\t\t\t</scroll-view>\r\n\t\t\t\r\n\t\t\t<view class=\"goods-detailInfo\">\r\n\t\t\t\t<view class=\"detailInfo-block\" @tap=\"editPrice()\">\r\n\t\t\t\t\t<image class=\"detailInfo-icon\"></image>\r\n\t\t\t\t\t<text class=\"detailInfo-text\" v-if=\"price_text==''\">编辑单价和数量</text>\r\n\t\t\t\t\t<text class=\"detailInfo-text\" v-else>{{price_text}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"detailInfo-block\" @tap=\"addTags()\">\r\n\t\t\t\t\t<image class=\"detailInfo-icon\"></image>\r\n\t\t\t\t\t<text class=\"detailInfo-text\" v-if=\"tags.length==0\">添加标签</text>\r\n\t\t\t\t\t<view class=\"selfTags-block\" v-else>\r\n\t\t\t\t\t\t<view class=\"selfTags-box\" v-for=\"(item,index) in tags\">\r\n\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<regionPicker @change=\"chooseCity\">\r\n\t\t\t\t\t<view class=\"detailInfo-block\">\r\n\t\t\t\t\t\t<image class=\"detailInfo-icon\"></image>\r\n\t\t\t\t\t\t<text class=\"detailInfo-text\" v-if=\"deliverCity==''\">选择发货城市</text>\r\n\t\t\t\t\t\t<text class=\"detailInfo-text\" v-else>{{deliverCity}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</regionPicker>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 编辑单价和数量 -->\r\n\t\t<view v-if=\"showEditPrice==true\">\r\n\t\t\t<view class=\"modal-mask\" @tap=\"showEditPrice=(showEditPrice+1)%2;\"></view>\r\n\t\t\t<view class=\"edit-price\">\r\n\t\t\t\t<view class=\"edit-price-block\">\r\n\t\t\t\t\t<text>单价</text>\r\n\t\t\t\t\t<input type=\"digit\" v-model=\"sell_price\" placeholder=\"\"class=\"priceInput-text\"/>\r\n\t\t\t\t\t<text>元</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"edit-price-block\">\r\n\t\t\t\t\t<text>数量</text>\r\n\t\t\t\t\t<input type=\"number\" v-model=\"sell_num\" placeholder=\"\" class=\"priceInput-text\"/>\r\n\t\t\t\t\t<text>个</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"edit-price-block\">\r\n\t\t\t\t\t<text>邮费</text>\r\n\t\t\t\t\t<input type=\"digit\" v-model=\"sell_postage\" placeholder=\"\"\r\n\t\t\t\t\t class=\"priceInput-text\" @tap=\"editPostage\"/>\r\n\t\t\t\t\t<text>元</text>\r\n\t\t\t\t\t<view style=\"display: inline-block; margin-left: 20rpx;\">\r\n\t\t\t\t\t\t<!-- <radio-group name=\"postage\" @change=\"radioChange\">\r\n\t\t\t\t\t\t\t<label v-for=\"(item, index) in postage_text\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<radio :value=\"item.value\" :checked=\"postage_current != -1\"/>\r\n\t\t\t\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</radio-group> -->\r\n\t\t\t\t\t\t<radio class=\"free\" :checked=\"postage_free == 1\" @click=\"radioChange1\"/>\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<text>包邮</text>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</radio>\r\n\t\t\t\t\t\t<radio class=\"fast\" :checked=\"postage_fast === 1\" @click=\"radioChange2\" style=\"margin-left: 20rpx;\"/>\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<text>急速发货</text>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</radio>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-block\" style=\"z-index: 91;\" @tap=\"confirmPrice()\">确认</view>\r\n\t\t</view>\r\n\t\t<!-- 添加标签 -->\r\n\t\t<!-- <view v-if=\"showAddTags==true\">\r\n\t\t\t<view class=\"modal-mask\" @tap=\"showAddTags=(showAddTags+1)%2;\"></view>\r\n\t\t</view> -->\r\n\t\t<!-- 选择发货物城市 -->\r\n\t\t<!-- <view v-if=\"showChooseCity==true\">\r\n\t\t\t<view class=\"modal-mask\" @tap=\"showChooseCity=(showChooseCity+1)%2;\"></view>\r\n\t\t</view> -->\r\n\t\t\r\n\t\t<view class=\"bottom-block\" @tap=\"releaseGoods()\">发布</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport regionPicker from \"../../components/region-picker/region-pickerSC.vue\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuserid:-1,\r\n\t\t\t\tgoodsName:'',\r\n\t\t\t\tgoodsDescription:'',\r\n\t\t\t\tdescripTatVal: 0,\r\n\t\t\t\tmaxTextArea:600,\r\n\t\t\t\tgoodsPics:[],\r\n\t\t\t\t\r\n\t\t\t\tshowEditPrice:false,\r\n\t\t\t\tsell_price: '',\r\n\t\t\t\tsell_num: '',\r\n\t\t\t\tsell_postage: '',\r\n\t\t\t\t\r\n\t\t\t\tpostage_free:0,\r\n\t\t\t\tpostage_fast:0,\r\n\t\t\t\tprice_text:'',\r\n\t\t\t\t\r\n\t\t\t\ttags:[],\r\n\t\t\t\t\r\n\t\t\t\tdeliverCity:'',\r\n\t\t\t\t\r\n\t\t\t\tradio_check:true,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif(this.userid==-1){\r\n\t\t\t\t// uni.showModal({\r\n\t\t\t\t// \tcontent:\"用户未登录,\\n请前往个人界面进行登录。\",\r\n\t\t\t\t// \tsuccess(res) {\r\n\t\t\t\t// \t\tif(res.confirm){\r\n\t\t\t\t// \t\t\tuni.navigateTo({\r\n\t\t\t\t// \t\t\t\turl:\"../my/my\"\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse{\r\n\t\t\t\t// \t\t\tuni.navigateTo({\r\n\t\t\t\t// \t\t\t\turl:\"../index/index\"\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\tthis.userid=1\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdescripInput(){\r\n\t\t\t\tthis.descripTatVal = this.goodsDescription.length;\r\n\t\t\t\tif(this.descripTatVal == this.maxTextArea){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '最多只能输入'+this.maxTextArea+'个字',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync toAddPic(){\r\n\t\t\t\tconsole.log(\"uploading pics\");\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tlet res1 = await this.$chooseImage({})\r\n\t\t\t\tconsole.log(res1.tempFilePaths)\r\n\t\t\t\tlet res2 = await this.$uploadFile({\r\n\t\t\t\t\turl: \"/goods/uploadImage\",\r\n\t\t\t\t\ttempFilePaths: res1.tempFilePaths\r\n\t\t\t\t})\r\n\t\t\t\tvar obj = JSON.parse(res2.data);\r\n\t\t\t\tif(obj.status==0){\r\n\t\t\t\t\tconsole.log(obj.data[0])\r\n\t\t\t\t\tthis.goodsPics.push(obj.data[0])\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"上传成功\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"上传失败\",\r\n\t\t\t\t\t\tcontent: 'error:'+obj.message,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\teditPrice(){\r\n\t\t\t\tthis.showEditPrice=true\r\n\t\t\t},\r\n\t\t\teditPostage(){\r\n\t\t\t\tthis.postage_free = 0\r\n\t\t\t},\r\n\t\t\tradioChange1(evt){\r\n\t\t\t\tthis.sell_postage=''\r\n\t\t\t\tthis.postage_free = 1\r\n\t\t\t},\r\n\t\t\tradioChange2(evt){\r\n\t\t\t\tthis.postage_fast = (this.postage_fast + 1)%2\r\n\t\t\t},\r\n\t\t\tconfirmPrice(){\r\n\t\t\t\tconsole.log(this.sell_price)\r\n\t\t\t\tconsole.log(this.sell_num)\r\n\t\t\t\tif(this.sell_price===''||this.sell_num===''||(this.sell_postage===''&&this.postage_free===0)){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请完成信息填写\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.price_text = \"单价 \" + this.sell_price + \"元/件  数量 \" + this.sell_num + \"件\"\r\n\t\t\t\tif(this.sell_postage!=''){ //邮费\r\n\t\t\t\t\tthis.price_text += \" 邮费 \" + this.sell_postage + \"元\"\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.postage_free===1){ //包邮\r\n\t\t\t\t\tthis.price_text += \" 包邮\"\r\n\t\t\t\t}\r\n\t\t\t\tif(this.postage_fast===1){ //急速发货\r\n\t\t\t\t\tthis.price_text += \" 急速发货\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.showEditPrice=false\r\n\t\t\t},\r\n\t\t\taddTags(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../../pages/auctions_goods-tagsadd/auctions_goods-tagsadd\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseCity(e){//{code:{s,c,z},value:{s,c,z},data:{z_id,z_name,z_code}}\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.deliverCity=e.detail.value[0]+e.detail.value[1]\r\n\t\t\t},\r\n\t\t\tasync release(){\r\n\t\t\t\tlet timestamp=new Date().getTime()\r\n\t\t\t\ttimestamp = timestamp.toString().substring(0, 10)\r\n\t\t\t\tconsole.log(timestamp)\r\n\t\t\t\tlet support = 0 //0:不支持,1:支持包邮,2:支持极速发货,3:支持包邮和极速发货\r\n\t\t\t\tif(this.postage_free===1){\r\n\t\t\t\t\tthis.sell_postage=0\r\n\t\t\t\t\tif(this.postage_fast==1) support = 3\r\n\t\t\t\t\telse support = 1\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(this.postage_fast==1) support = 2\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$myRequest({\r\n\t\t\t\t\turl: \"/goods/add\",\r\n\t\t\t\t\tmethod:  \"POST\",\r\n\t\t\t\t\t\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tuserId: this.userid,\r\n\t\t\t\t\t\tcity: this.deliverCity,\r\n\t\t\t\t\t\tendTime: -1,\r\n\t\t\t\t\t\theat: 0,\r\n\t\t\t\t\t\tintroImage: this.goodsPics,\r\n\t\t\t\t\t\tintroduction: this.goodsDescription,\r\n\t\t\t\t\t\tinventory: this.sell_num,\r\n\t\t\t\t\t\tname: this.goodsName,\r\n\t\t\t\t\t\tpostage: this.sell_postage,\r\n\t\t\t\t\t\tprice: this.sell_price,\r\n\t\t\t\t\t\tstartTime: timestamp,\r\n\t\t\t\t\t\tsupport: support,\r\n\t\t\t\t\t\ttags: this.tags,\r\n\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\tif(res.data.status==0){\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent:\"发布成功\",\r\n\t\t\t\t\t\tconfirmText:\"查看我的卖出\",\r\n\t\t\t\t\t\tcancelText:\"确定\",\r\n\t\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tif(res.confirm){ //查看我的卖出\r\n\t\t\t\t\t\t\tconsole.log(\"查看我的卖出\")\r\n\t\t\t\t\t\t\t//type 市集：0，拍卖：1\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: \"../../pages/my-orders/my-orders?type=\" + 0 + \"&userid=\" + this.userid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{ //确定\r\n\t\t\t\t\t\t\tconsole.log(\"确定\")\r\n\t\t\t\t\t\t\tuni.navigateBack({})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent:\"发布失败\",\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treleaseGoods(){\r\n\t\t\t\tconsole.log(this.goodsName)\r\n\t\t\t\tconsole.log(this.goodsDescription)\r\n\t\t\t\tconsole.log(this.goodsPics)\r\n\t\t\t\tconsole.log(this.sell_price)\r\n\t\t\t\tconsole.log(this.sell_num)\r\n\t\t\t\tconsole.log(this.sell_postage)\r\n\t\t\t\tconsole.log(this.tags)\r\n\t\t\t\tconsole.log(this.deliverCity)\r\n\t\t\t\tif(this.goodsName==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请填写商品名称\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.goodsDescription==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请填写商品详细描述\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.goodsPics.length==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请上传商品图片\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.sell_price==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请填写商品单价和数量\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.tags==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请添加商品标签\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(this.deliverCity==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请选择发货城市\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tlet self = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent:\"确定要发布吗？\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif(res.confirm){ //发布\r\n\t\t\t\t\t\tconsole.log(\"确定\")\r\n\t\t\t\t\t\tself.release();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{ //不发布\r\n\t\t\t\t\t\tconsole.log(\"取消\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tregionPicker,\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"./goods-release.css\");\r\n</style>\r\n","import mod from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-release.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-release.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636723572267\n      var cssReload = require(\"D:/apps/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}